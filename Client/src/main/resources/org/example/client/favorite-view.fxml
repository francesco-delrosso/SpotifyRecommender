<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns:fx="http://javafx.com/fxml" fx:controller="org.example.client.FavoriteController"
            style="-fx-background-color: #121212;">

    <top>
        <VBox>
            <!-- Header principale -->
            <VBox style="-fx-background-color: linear-gradient(to bottom, #e74c3c, #c0392b); -fx-padding: 30 40;">
                <Label text="â¤ï¸ My Favorites"
                       style="-fx-font-size: 36px; -fx-font-weight: bold; -fx-text-fill: white;"/>
                <HBox spacing="15" alignment="CENTER_LEFT">
                    <VBox.margin>
                        <Insets top="10"/>
                    </VBox.margin>
                    <Label fx:id="userEmailLabel"
                           style="-fx-font-size: 14px; -fx-text-fill: rgba(255,255,255,0.8);"/>
                    <Label text="â€¢" style="-fx-text-fill: rgba(255,255,255,0.6);"/>
                    <Label fx:id="countLabel"
                           text="0 songs"
                           style="-fx-font-size: 14px; -fx-text-fill: rgba(255,255,255,0.8); -fx-font-weight: bold;"/>
                </HBox>
            </VBox>

            <!-- Barra azioni -->
            <HBox spacing="15" alignment="CENTER_RIGHT"
                  style="-fx-background-color: #1e1e1e; -fx-padding: 15 30;">
                <Region HBox.hgrow="ALWAYS"/>
                <Button text="ðŸ”„ Refresh"
                        onAction="#handleRefresh"
                        style="-fx-background-color: #1DB954;
                               -fx-text-fill: white;
                               -fx-font-weight: bold;
                               -fx-background-radius: 25;
                               -fx-padding: 10 25;
                               -fx-cursor: hand;
                               -fx-effect: dropshadow(gaussian, rgba(29,185,84,0.4), 8, 0.3, 0, 2);"/>
            </HBox>
        </VBox>
    </top>

    <center>
        <VBox style="-fx-padding: 30;">
            <TableView fx:id="favoriteTable"
                       VBox.vgrow="ALWAYS"
                       style="-fx-background-color: #181818;
                             -fx-background-radius: 15;
                             -fx-control-inner-background: #181818;
                             -fx-table-cell-border-color: transparent;
                             -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.5), 15, 0.2, 0, 3);">
                <columns>
                    <TableColumn fx:id="titleColumn"
                                 text="ðŸŽµ Title"
                                 prefWidth="300"
                                 style="-fx-alignment: CENTER-LEFT;"/>
                    <TableColumn fx:id="artistColumn"
                                 text="ðŸŽ¤ Artists"
                                 prefWidth="250"
                                 style="-fx-alignment: CENTER-LEFT;"/>
                    <TableColumn fx:id="popularityColumn"
                                 text="â­ Popularity"
                                 prefWidth="120"
                                 style="-fx-alignment: CENTER;"/>
                    <TableColumn fx:id="favoriteColumn"
                                 text="â¤"
                                 prefWidth="80"
                                 style="-fx-alignment: CENTER;"/>
                </columns>
            </TableView>
        </VBox>
    </center>

    <bottom>
        <HBox alignment="CENTER" style="-fx-background-color: #1e1e1e; -fx-padding: 25;">
            <Button text="â¬… Back to Home"
                    onAction="#handleBackToHome"
                    style="-fx-background-color: #282828;
                           -fx-text-fill: white;
                           -fx-font-weight: bold;
                           -fx-background-radius: 25;
                           -fx-padding: 12 30;
                           -fx-cursor: hand;
                           -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.4), 8, 0.2, 0, 2);"/>
        </HBox>
    </bottom>

</BorderPane>
